<app-centered-form-container>
  <h3 title>Free Registration</h3>
  <form [formGroup]="registerForm" (ngSubmit)="register()" autocomplete="off">
    <div class="form-group" [ngClass]="{ 'error': (rf.username.touched && rf.username.invalid) }">
      <input formControlName="username" name="username" class="form-control" placeholder="Username" required
        minlength="4">
      <div class="error-message" *ngIf="rf.username.touched && rf.username.invalid">
        <span>Username</span>
        <span [hidden]="!rf.username.errors?.required"> is required</span>
        <span [hidden]="!rf.username.errors?.minlength"> must be at least 4 characters</span>
      </div>
    </div>
    <div class="form-group" [ngClass]="{ 'error': (rf.email.touched && rf.email.invalid) }">
      <input formControlName="email" name="email" class="form-control" placeholder="Email" required type="email">
      <div class="error-message" *ngIf="rf.email.touched && rf.email.invalid">
        <span>Email</span>
        <span [hidden]="!rf.email.errors?.required"> is required</span>
        <span [hidden]="!rf.email.errors?.email"> should be a valid email address</span>
      </div>
    </div>
    <div class="form-group" [ngClass]="{ 'error': (rf.password.touched && rf.password.invalid) }">
      <input formControlName="password" name="password" type="password" class="form-control" placeholder="Password"
        required minlength="4" maxlength="10" />
      <div class="error-message" *ngIf="rf.password.touched && rf.password.invalid">
        <span>Password</span>
        <span [hidden]="!rf.password.errors?.required"> is required</span>
        <span [hidden]="!rf.password.errors?.minlength"> must be at least 4 characters</span>
        <span [hidden]="!rf.password.errors?.maxlength"> must be at most 10 characters</span>
      </div>
    </div>
    <div class="form-group" [ngClass]="{ 'error': (rf.confirmPassword.touched && rf.confirmPassword.invalid) || (registerForm.touched && registerForm.invalid) }">
      <input formControlName="confirmPassword" name="confirmPassword" type="password" class="form-control"
        placeholder="Confirm Password" required minlength="4" maxlength="10" />
      <div class="error-message" *ngIf="rf.confirmPassword.touched && rf.confirmPassword.invalid">
        <span>Confirm password</span>
        <span [hidden]="!rf.confirmPassword.errors?.required"> is required</span>
        <span [hidden]="!rf.confirmPassword.errors?.minlength"> must be at least 4 characters</span>
        <span [hidden]="!rf.confirmPassword.errors?.maxlength"> must be at most 10 characters</span>
      </div>
      <div class="error-message" *ngIf="registerForm.touched && registerForm.errors?.passwordCompare">
        Password and compare password do not match
      </div>
    </div>
    <div class="form-group" [ngClass]="{ 'error': (rf.fullname.touched && rf.fullname.invalid) }">
      <input formControlName="fullname" name="fullname" class="form-control" placeholder="Full Name" required
        maxlength="100">
      <div class="error-message" *ngIf="rf.fullname.touched && rf.fullname.invalid">
        <span>Full name</span>
        <span [hidden]="!rf.fullname.errors?.required"> is required</span>
        <span [hidden]="!rf.fullname.errors?.minlength"> must be at least 4 characters</span>
        <span [hidden]="!rf.fullname.errors?.maxlength"> must be at most 100 characters</span>
      </div>
    </div>
    <div class="form-group">
      <button type="submit" [disabled]="registerForm.invalid" class="btn btn-primary">Signup</button>
    </div>
    <div class="form-group">
      Already have an account? <a routerLink="/login">Login</a>
    </div>
  </form>
</app-centered-form-container>
